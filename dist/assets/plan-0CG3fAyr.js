import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */const D="67abd88567c24f259ac23735251108";function y(){const a=$();return localStorage.setItem("tripDays",JSON.stringify(a)),a}function A(){try{return JSON.parse(localStorage.getItem("tripDays")||"[]")}catch{return[]}}function C(a,e,r){let n=[];return e<40?n.push("Bring a heavy coat, gloves, and warm layers"):e<55?n.push("Pack a jacket or two and a pair of pants"):e<65&&n.push("Bring a light jacket or sweater for cooler mornings/evenings"),a>85?n.push("Include light, breathable clothing and sunscreen"):r>=65&&r<=80&&n.push("Stick to mostly warm-weather clothes"),r<65&&e>=55&&a<=75&&n.push("Mix of light sweaters and short sleeves"),n.join(". ")+"."}function $(){const a=document.querySelectorAll("#daysView .day");return Array.from(a).map(e=>{var l,t;const r=((l=e.querySelector('input[name$="[date]"]'))==null?void 0:l.value)||"",n=((t=e.querySelector('input[name$="[location]"]'))==null?void 0:t.value)||"";return{date:r,location:n}})}function I(a){let e=a.querySelector(".weather");return e||(e=document.createElement("div"),e.className="weather",e.style.marginTop="0.5rem",a.appendChild(e)),e}async function b(){var m,g,f,h;const a=$(),e=document.querySelectorAll("#daysView .day");let r=0,n=0,l=0,t=150;for(let u=0;u<a.length;u++){const i=a[u];if(!i.date||!i.location)continue;const w=e[u],v=I(w);v.textContent="Loading…";const q=`https://api.weatherapi.com/v1/forecast.json?key=${D}&q=${encodeURIComponent(i.location)}&dt=${i.date}`,p=await(await fetch(q)).json(),c=(h=(f=(g=(m=p==null?void 0:p.forecast)==null?void 0:m.forecastday)==null?void 0:g[0])==null?void 0:f.day)==null?void 0:h.avgtemp_f;r+=c,n++,c>=l&&(l=c),c<=t&&(t=c),v.textContent=c!=null?`Weather for ${i.date}: ${c}°F`:"No forecast found"}let o=r/n;console.log(r/n),console.log(l,t);let s=C(l,t,o);const d=document.querySelector("#clothesSuggestion");d.innerHTML=`<p>Average Temperature: ${o}</p>
    <p>High: ${l}</p>
    <p>Low: ${t}</p>
    <p>Clothing Suggestion: ${s}</p>`}function E(a){const e=document.getElementById("daysView"),r=parseInt(a,10)||0,n=Array.from(e.querySelectorAll(".day")).map((t,o)=>{var s,d;return{date:((s=t.querySelector(`[name="days[${o}][date]"]`))==null?void 0:s.value)||"",location:((d=t.querySelector(`[name="days[${o}][location]"]`))==null?void 0:d.value)||""}}),l=A();e.innerHTML="";for(let t=0;t<r;t++){const o=document.createElement("fieldset");o.className="day",o.innerHTML=`
      <legend>Day ${t+1}</legend>
      <label>
        Date
        <input type="date" name="days[${t}][date]" id="day${t}" required>
      </label>
      <label>
        Location
        <input type="text" name="days[${t}][location]" placeholder="City or venue" id="place${t}" required>
      </label>
    `;const s=n[t]||l[t]||{};s.date&&(o.querySelector(`[name="days[${t}][date]"]`).value=s.date),s.location&&(o.querySelector(`[name="days[${t}][location]"]`).value=s.location),o.appendChild(Object.assign(document.createElement("div"),{className:"weather"})),e.appendChild(o)}}document.getElementById("days").addEventListener("input",a=>{E(a.target.value),y();let e=y();console.log(e)});let S;document.getElementById("daysView").addEventListener("input",a=>{if(!a.target.matches('input[type="date"], input[name$="[location]"]'))return;y(),clearTimeout(S),S=setTimeout(()=>b(),300);let e=y();console.log(e)});
